(()=>{"use strict";function e(e,t,n,r){e.clearColor(t,n,r,1),e.clear(e.COLOR_BUFFER_BIT)}var t=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function c(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}l((r=r.apply(e,t||[])).next())}))};let n=[0,0,0,.5,.7,0];function r(e){return t(this,void 0,void 0,(function*(){const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to load shader: ${t.statusText}`);return t.text()}))}function o(e,t,n){const r=e.createShader(t);if(null===r)throw new Error("Failed to create Shader.\n");if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw console.error(e.getShaderInfoLog(r)),e.deleteShader(r),new Error("shader compilation failed");return r}!function(){var a,i,c,l;a=this,i=void 0,l=function*(){const a=document.getElementById("glCanvas");if(null===a)throw new Error("Could not find canvas element");const i=a.getContext("webgl");if(null===i)throw new Error("Could not get Webgl context");a.width=1e3,a.height=1e3,yield function(){return t(this,void 0,void 0,(function*(){const e=document.getElementById("glCanvas");if(null===e)throw new Error("Could not find canvas element");const t=e.getContext("webgl");if(null===t)throw new Error("Could not get Webgl context");const a=yield r("./shaders/vShader.glsl"),i=yield r("./shaders/fShader.glsl"),c=o(t,t.VERTEX_SHADER,a),l=o(t,t.FRAGMENT_SHADER,i);if(!c||!l)throw new Error("Failed to compile shaders");const d=function(e,t,n){const r=e.createProgram();if(null===r)throw new Error("Faile to create Shader Program!\n");return e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)?r:(console.error(e.getProgramInfoLog(r)),e.deleteProgram(r),null)}(t,c,l);if(!d)throw new Error("Failed to create Program");const u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}))}(a.width,a.height),function(t,n){let r=0;t.addEventListener("click",(()=>{r++,r%2?e(n,1,1,1):(e(n,0,0,0),r=0),console.log(r)}))}(a,i)},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}o((l=l.apply(a,i||[])).next())}))}()})();